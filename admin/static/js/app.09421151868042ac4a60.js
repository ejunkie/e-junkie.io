webpackJsonp([9],{"0rxb":function(t,e){},JeIK:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={name:"Navbar",data:()=>({Username:""}),mounted:function(){var t=this;this.axios.post(window.Config.API.endpoint+"settings/name",{}).then(e=>{t.Username=e.data}).catch(e=>{t.axios.errors.push(e)}),setInterval(function(){t.axios.post(window.Config.API.endpoint+"session",{}).then(t=>{console.log(t.data)}).catch(t=>{console.log(response.data)})},6e4)}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"navbar"}},[e("nav",{staticClass:"navbar is-fixed-top"},[this._m(0),this._v(" "),e("div",{staticClass:"navbar-menu"},[e("div",{staticClass:"navbar-end"},[e("a",{staticClass:"navbar-item"},[this._v("\n          "+this._s(this.Username)+"\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-brand"},[e("h1",[e("img",{attrs:{src:"https://www.e-junkie.com/ej/images/E-junkieIO2.png"}})])])}]};var o={name:"Sidebar",data:()=>({assetsDialogVisible:!1}),methods:{showAssets:function(){this.assetsDialogVisible=!this.assetsDialogVisible,this.$bus.$emit("showAssets",this.assetsDialogVisible)}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"sidebar"}},[s("router-link",{attrs:{to:"/"}},[s("i",{staticClass:"icon ion-md-analytics"}),t._v(" Dashboard")]),t._v(" "),s("router-link",{attrs:{to:"/pages"}},[s("i",{staticClass:"icon ion-md-document"}),t._v(" Pages")]),t._v(" "),s("router-link",{attrs:{to:"/themes"}},[s("i",{staticClass:"icon ion-md-color-palette"}),t._v(" Themes")]),t._v(" "),s("router-link",{attrs:{to:"/templates"}},[s("i",{staticClass:"icon ion-md-brush"}),t._v(" Templates")]),t._v(" "),s("a",{on:{click:function(e){return t.showAssets()}}},[s("i",{staticClass:"icon ion-ios-albums"}),t._v(" Assets")]),t._v(" "),s("router-link",{attrs:{to:"/settings"}},[s("i",{staticClass:"icon ion-md-settings"}),t._v(" Settings")]),t._v(" "),s("router-link",{attrs:{to:"/integrations"}},[s("i",{staticClass:"icon ion-md-infinite"}),t._v(" Integrations")]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"/logout"}},[e("i",{staticClass:"icon ion-md-hand"}),this._v(" Logout")])}]};var r={name:"Assets",data:()=>({assetsDialogVisible:!1,showPreviewDialog:!1,Assets:null,previewUrl:null,fileList:[],data:{},uploadPercentage:0,uploadAction:window.Config.API.endpoint+"assets/save",searchText:null,loader:null}),created:function(){var t=this;this.$bus.$on("showAssets",e=>{t.assetsDialogVisible=!t.assetsDialogVisible})},mounted:function(){this.getAssets()},methods:{getAssets:function(){this.loader=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});var t=this;this.axios.post(window.Config.API.endpoint+"assets",{}).then(e=>{for(var s in setTimeout(()=>{t.loader&&t.loader.close()},500),t.Assets=e.data,t.Assets)t.Assets[s].visible=!0}).catch(t=>{})},deleteAsset:function(t){var e=this;this.loader=this.$loading({lock:!0,text:"Deleting Asset",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.axios.post(window.Config.API.endpoint+"assets/delete",{key:t}).then(t=>{for(var s in e.Assets=t.data,e.Assets)e.Assets[s].visible=!0;setTimeout(()=>{e.loader&&e.loader.close()},500)}).catch(t=>{})},assetsUploaded:function(t,e,s){if(t.status||0==t.status)this.$message({showClose:!0,message:t.error,type:"error"});else for(var a in this.$message({message:"Asset successfully uploaded",type:"success",showClose:!0}),this.Assets=t,this.Assets)this.Assets[a].visible=!0;document.querySelector("#assets .table").querySelectorAll("tr").forEach(t=>t.className=""),document.querySelector("#assets .table").querySelectorAll("tr").forEach(t=>{s.forEach(e=>{-1!=t.innerText.indexOf(e.name)&&(t.className="active")})}),this.uploadPercentage=0},assetsUploadProgress:function(t,e,s){this.uploadPercentage=t.percent},viewAsset:function(t){this.previewUrl=t,this.showPreviewDialog=!0},filterAssets:function(){if(this.searchText)for(var t in this.Assets)-1!=this.Assets[t].asset.indexOf(this.searchText)?this.Assets[t].visible=!0:this.Assets[t].visible=!1;else for(var t in this.Assets)this.Assets[t].visible=!0},urlCopied:function(t){this.$message({message:"Copied Asset URL",type:"success",showClose:!0})}},watch:{searchText:function(t){""==t&&(this.searchText=null),this.filterAssets()}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"assets"}},[s("el-dialog",{attrs:{title:"Assets",visible:t.assetsDialogVisible},on:{"update:visible":function(e){t.assetsDialogVisible=e}}},[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-8"},[s("el-input",{attrs:{placeholder:"Search Assets",clearable:""},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),t._v(" "),s("table",{staticClass:"table is-striped is-hoverable is-fullwidth"},[s("thead",[s("tr",[s("th",{attrs:{width:"30%"}},[t._v("Name")]),t._v(" "),s("th",{attrs:{width:"30%"}},[t._v("Url")]),t._v(" "),s("th",{attrs:{width:"20%"}},[t._v("Operations")])])]),t._v(" "),s("tbody",t._l(t.Assets,function(e,a){return e.visible?s("tr",[s("th",[t._v(t._s(e.asset))]),t._v(" "),s("th",[s("a",{attrs:{href:e.url,target:"_preview"}},[t._v(t._s(e.url))])]),t._v(" "),s("th",[s("abbr",{attrs:{title:"Preview Asset"}},[s("el-button",{attrs:{type:"info",icon:"ion-md-open"},on:{click:function(s){return t.viewAsset(e.url)}}})],1),t._v(" "),s("abbr",{attrs:{title:"Copy URL"}},[s("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.url,expression:"asset.url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.urlCopied,expression:"urlCopied",arg:"success"}],attrs:{type:"link",icon:"ion-ios-copy"}})],1),t._v(" "),s("abbr",{attrs:{title:"Delete Asset"}},[s("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(s){return t.deleteAsset(e.key)}}})],1)])]):t._e()}),0)])],1),t._v(" "),s("div",{staticClass:"column is-3"},[s("el-upload",{ref:"assetUpload",staticClass:"upload-demo",attrs:{drag:"",action:t.uploadAction,"file-list":t.fileList,"list-type":"picture",data:t.data,"on-success":t.assetsUploaded,"on-progress":t.assetsUploadProgress,multiple:""}},[s("i",{staticClass:"el-icon-upload"}),t._v(" "),s("div",{staticClass:"el-upload__text"},[t._v("Drop file here or "),s("em",[t._v("click to upload")])]),t._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("jpg/png/gif/mp4/webm/css/js files with a size less than 5mb")])]),t._v(" "),0!=t.uploadPercentage?s("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.uploadPercentage,status:"success"}}):t._e()],1)])]),t._v(" "),s("el-dialog",{attrs:{title:"Preview",visible:t.showPreviewDialog,width:"50%",center:""},on:{"update:visible":function(e){t.showPreviewDialog=e}}},[s("img",{attrs:{src:t.previewUrl}}),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.showPreviewDialog=!1}}},[t._v("Cancel")])],1)])],1)},staticRenderFns:[]};var u={name:"App",components:{Navbar:s("VU/8")(i,n,!1,function(t){s("0rxb")},"data-v-e3e5f4f4",null).exports,Sidebar:s("VU/8")(o,l,!1,function(t){s("g/27")},"data-v-781a2124",null).exports,Assets:s("VU/8")(r,c,!1,function(t){s("JeIK")},"data-v-7cd61f36",null).exports}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("navbar"),this._v(" "),e("sidebar"),this._v(" "),e("assets"),this._v(" "),e("div",{staticClass:"main-content"},[e("transition",{attrs:{name:"el-fade-in"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var h=s("VU/8")(u,d,!1,function(t){s("j9MR")},null,null).exports,p=s("/ocq");a.default.use(p.a);const v=new p.a({mode:"history",base:"/admin/",routes:[{path:"/",name:"Homepage",component:function(t){s.e(3).then(function(){var e=[s("lO7g")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Dashboard",auth:!0}},{path:"/pages",name:"Pages",component:function(t){s.e(0).then(function(){var e=[s("rZfT")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Pages",auth:!0}},{path:"/page/:page",name:"Page",component:function(t){s.e(1).then(function(){var e=[s("pMNZ")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Page",auth:!0}},{path:"/templates",name:"Templates",component:function(t){s.e(7).then(function(){var e=[s("g2dq")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Templates",auth:!0}},{path:"/themes",name:"Themes",component:function(t){s.e(6).then(function(){var e=[s("j1yB")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Themes",auth:!0}},{path:"/settings",name:"Settings",component:function(t){s.e(2).then(function(){var e=[s("niH5")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Settings",auth:!0}},{path:"/integrations",name:"Integrations",component:function(t){s.e(5).then(function(){var e=[s("MEcO")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Integrations",auth:!0}},{path:"*",name:"NotFound",component:function(t){s.e(4).then(function(){var e=[s("YcJa")];t.apply(null,e)}.bind(this)).catch(s.oe)},meta:{title:"Page Not Found",auth:!1}}]});v.beforeEach((t,e,s)=>{document.title=t.meta.title,s()});var f=v,m=s("zL8q"),g=s.n(m),b=(s("tvR6"),s("wUZ8")),_=s.n(b),w=s("mtWM"),A=s.n(w),C=s("Rf8U"),y=s.n(C),x=new a.default,P=s("wvfG"),k=s.n(P);a.default.use(g.a,{locale:_.a}),a.default.use(y.a,A.a),a.default.use(k.a),a.default.config.productionTip=!1,a.default.prototype.$bus=x,window.Config={},window.Config.API={endpoint:"/api/"},new a.default({el:"#app",router:f,components:{App:h},template:"<App/>"})},"g/27":function(t,e){},j9MR:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.09421151868042ac4a60.js.map
